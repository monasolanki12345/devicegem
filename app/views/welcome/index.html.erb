
<h1>Hello, Rails!</h1>

<% if user_signed_in? %>
  Logged in as <strong><%= current_user.email %></strong>
  <% if can? :account_update, @user %>
  <%= link_to 'Edit profile', edit_user_registration_path, :class => 'navbar-link' %> 
  <% end %>|
  <%= link_to "Logout", destroy_user_session_path, data: {
        turbo_method: :delete,
        turbo_confirm: "Are you sure?"}, :class => 'navbar-link'  %>
<% else %>
  <%= link_to "Sign up", new_user_registration_path, :class => 'navbar-link'  %> |
  <%= link_to "Login", new_user_session_path, :class => 'navbar-link'  %>
<% end %>


<h1>Users</h1>

<table>
  <thead>
    <tr>
      <th>Role</th>
      
      <th>Email</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |u| %>
      <tr>
        <td><%= u.role.name%></td>
        <td><%= u.email %></td>
        
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= search_form_for @search do |f| %>
  <%= f.condition_fields do |c| %>
    <%= c.attribute_fields do |a| %>
      <%= a.attribute_select %>                         
    <% end %>                                           
  <%= c.predicate_select only: [:cont, :lteq, :gteq]%>  
  <%= c.value_fields do |v| %>                          
    <%= v.text_field :value %>                          
  <%end %>                                              
<%end %>
<%= f.submit %>
<% end %>


<p style="color: green"><%= notice %></p>

<h1>Users</h1>
<hr />
<% @users.each do |u| %>
  <h2><%= u.name %></h2>
  <p>
  <%= u.email %>
  </p>
<% end %>
<hr />
<%= paginate @users %>
<%= page_entries_info @users %>




